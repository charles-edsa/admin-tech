<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - Delivery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); }
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .hover-lift { transition: all 0.3s ease; }
        .hover-lift:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }
        .sidebar-item.active { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); color: white; }
        .comandas-scroll { max-height: 500px; overflow-y: auto; }
        .comandas-scroll::-webkit-scrollbar { width: 6px; }
        .comandas-scroll::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 3px; }
        .comandas-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .comandas-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Barra de Menu Superior -->
    <nav class="bg-white border-b border-gray-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-gray-800 text-xl font-semibold">
                            <i class="fas fa-store text-orange-500 mr-2"></i>
                            Painel Admin
                        </h1>
                    </div>
                    <div class="hidden md:block ml-10">
                        <div class="flex items-baseline space-x-1">
                            <button onclick="showTab('pedidos')" id="tab-pedidos" class="text-gray-600 hover:text-orange-500 px-4 py-2 text-sm font-medium transition-all duration-300 tab-button border-b-2 border-orange-500 text-orange-500">
                                <i class="fas fa-shopping-cart mr-2"></i>Pedidos
                            </button>
                            <button onclick="showTab('configuracoes')" id="tab-configuracoes" class="text-gray-600 hover:text-orange-500 px-4 py-2 text-sm font-medium transition-all duration-300 tab-button border-b-2 border-transparent">
                                <i class="fas fa-cog mr-2"></i>Configurações
                            </button>
                        </div>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="text-gray-600 text-sm">
                        <i class="fas fa-user-circle text-gray-400 mr-2"></i>
                        Admin
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Conteúdo Principal -->
    <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        
        <!-- Aba Pedidos -->
        <div id="content-pedidos" class="tab-content">
            <!-- Toggle Delivery/Salão e Botão Venda -->
            <div class="mb-6 flex items-center justify-between">
                <div>
                    <button onclick="openPDVModal()" class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors font-medium shadow-sm">
                        <i class="fas fa-cash-register mr-2"></i>Venda
                    </button>
                </div>
                <div class="relative">
                    <div class="flex bg-gray-100 rounded-lg p-1">
                        <button onclick="togglePedidosView('delivery')" id="btn-delivery" class="px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 pedidos-toggle bg-white text-gray-900 shadow-sm">
                            <i class="fas fa-motorcycle mr-2"></i>Delivery
                        </button>
                        <button onclick="togglePedidosView('salao')" id="btn-salao" class="px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 pedidos-toggle text-gray-500 hover:text-gray-700">
                            <i class="fas fa-utensils mr-2"></i>Salão
                        </button>
                    </div>
                </div>
            </div>

            <!-- Painel Delivery (Kanban) -->
            <div id="delivery-panel" class="pedidos-panel">
                <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                    <!-- Cabeçalho da Tabela -->
                    <div class="grid grid-cols-3 bg-gray-50 border-b border-gray-200">
                        <div class="px-6 py-4 border-r border-gray-200">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">
                                    <i class="fas fa-bell text-orange-500 mr-2"></i>Novos Pedidos
                                </h3>
                                <span class="bg-orange-100 text-orange-700 text-xs font-medium px-2 py-1 rounded">3</span>
                            </div>
                        </div>
                        <div class="px-6 py-4 border-r border-gray-200">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">
                                    <i class="fas fa-clock text-amber-500 mr-2"></i>Em Preparo
                                </h3>
                                <span class="bg-amber-100 text-amber-700 text-xs font-medium px-2 py-1 rounded">2</span>
                            </div>
                        </div>
                        <div class="px-6 py-4">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">
                                    <i class="fas fa-check-circle text-green-500 mr-2"></i>Prontos
                                </h3>
                                <span class="bg-green-100 text-green-700 text-xs font-medium px-2 py-1 rounded">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conteúdo das Colunas -->
                    <div class="grid grid-cols-3 min-h-96">
                        <!-- Coluna Novos -->
                        <div class="px-4 py-4 border-r border-gray-200">
                            <!-- Pedido #001 -->
                            <div class="py-3 hover:bg-gray-50 transition-colors cursor-pointer" onclick="openPedidoModal('001', 'novo')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#001</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">10:30</div>
                                        <div class="text-xs text-orange-600 font-medium" id="timer-001">5min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">João Silva</p>
                                <p class="text-xs text-gray-600 mb-3">2x Hambúrguer, 1x Batata Frita</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 45,90</span>
                                    <button onclick="event.stopPropagation(); aceitarPedido('001')" class="text-xs bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200"></div>
                            
                            <!-- Pedido #002 -->
                            <div class="py-3 hover:bg-gray-50 transition-colors cursor-pointer" onclick="openPedidoModal('002', 'novo')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#002</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">10:45</div>
                                        <div class="text-xs text-orange-600 font-medium" id="timer-002">2min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Maria Santos</p>
                                <p class="text-xs text-gray-600 mb-3">1x Pizza Margherita</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 32,00</span>
                                    <button onclick="event.stopPropagation(); aceitarPedido('002')" class="text-xs bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200"></div>
                            
                            <!-- Pedido #025 -->
                            <div class="py-3 hover:bg-gray-50 transition-colors cursor-pointer" onclick="openPedidoModal('025', 'novo')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#025</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">11:05</div>
                                        <div class="text-xs text-orange-600 font-medium" id="timer-025">1min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Roberto Lima</p>
                                <p class="text-xs text-gray-600 mb-3">1x Açaí 500ml, 1x Vitamina</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 18,50</span>
                                    <button onclick="event.stopPropagation(); aceitarPedido('025')" class="text-xs bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Coluna Preparando -->
                        <div class="px-4 py-4 border-r border-gray-200">
                            <!-- Pedido #003 -->
                            <div class="py-3 hover:bg-amber-50 transition-colors cursor-pointer" onclick="openPedidoModal('003', 'preparo')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#003</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">10:15</div>
                                        <div class="text-xs text-amber-600 font-medium" id="timer-003">25min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Carlos Oliveira</p>
                                <p class="text-xs text-gray-600 mb-3">3x Pastel, 1x Refrigerante</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 28,50</span>
                                    <button onclick="event.stopPropagation(); finalizarPedido('003')" class="text-xs bg-amber-500 text-white px-3 py-1 rounded hover:bg-amber-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200"></div>
                            
                            <!-- Pedido #026 -->
                            <div class="py-3 hover:bg-amber-50 transition-colors cursor-pointer" onclick="openPedidoModal('026', 'preparo')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#026</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">10:50</div>
                                        <div class="text-xs text-amber-600 font-medium" id="timer-026">15min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Fernanda Costa</p>
                                <p class="text-xs text-gray-600 mb-3">2x Pizza Individual, 2x Refrigerante</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 54,00</span>
                                    <button onclick="event.stopPropagation(); finalizarPedido('026')" class="text-xs bg-amber-500 text-white px-3 py-1 rounded hover:bg-amber-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Coluna Prontos -->
                        <div class="px-4 py-4">
                            <!-- Pedido #004 -->
                            <div class="py-3 hover:bg-green-50 transition-colors cursor-pointer" onclick="openPedidoModal('004', 'pronto')">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-900">#004</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">09:50</div>
                                        <div class="text-xs text-green-600 font-medium" id="timer-004">3min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Ana Costa</p>
                                <p class="text-xs text-gray-600 mb-3">2x Açaí, 1x Suco Natural</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-bold text-gray-900">R$ 35,00</span>
                                    <button onclick="event.stopPropagation(); entregarPedido('004')" class="text-xs bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 transition-colors">
                                        Avançar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Painel Salão -->
            <div id="salao-panel" class="pedidos-panel hidden">
                <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                    <!-- Cabeçalho -->
                    <div class="bg-gray-50 border-b border-gray-200">
                        <div class="px-6 py-4">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">
                                    <i class="fas fa-utensils text-orange-500 mr-2"></i>Pedidos Locais
                                </h3>
                                <div class="flex items-center space-x-6">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                        <span class="text-sm text-gray-600">Livre</span>
                                        <span class="bg-green-100 text-green-700 text-xs font-medium px-2 py-1 rounded">5</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                        <span class="text-sm text-gray-600">Ocupada</span>
                                        <span class="bg-red-100 text-red-700 text-xs font-medium px-2 py-1 rounded">2</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-amber-500 rounded-full"></div>
                                        <span class="text-sm text-gray-600">Reservada</span>
                                        <span class="bg-amber-100 text-amber-700 text-xs font-medium px-2 py-1 rounded">1</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Grade de Mesas e Comandas -->
                    <div class="p-6">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <!-- Seção Mesas -->
                            <div class="lg:col-span-2">
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <!-- Mesa 1 - Livre -->
                            <div onclick="openMesaModal(1, 'livre')" class="bg-white border-2 border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-50 hover:border-green-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-chair text-green-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 01</div>
                                    <div class="text-xs text-gray-500 mb-2">4 lugares</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Livre</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 2 - Ocupada -->
                            <div onclick="openMesaModal(2, 'ocupada')" class="bg-white border-2 border-red-200 rounded-lg p-4 cursor-pointer hover:bg-red-50 hover:border-red-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-users text-red-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 02</div>
                                    <div class="text-xs text-gray-500 mb-1">4 pessoas</div>
                                    <div class="text-xs text-red-600 font-medium mb-2">45min</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-red-100 text-red-700">Ocupada</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 3 - Livre -->
                            <div onclick="openMesaModal(3, 'livre')" class="bg-white border-2 border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-50 hover:border-green-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-chair text-green-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 03</div>
                                    <div class="text-xs text-gray-500 mb-2">2 lugares</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Livre</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 4 - Reservada -->
                            <div onclick="openMesaModal(4, 'reservada')" class="bg-white border-2 border-amber-200 rounded-lg p-4 cursor-pointer hover:bg-amber-50 hover:border-amber-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-clock text-amber-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 04</div>
                                    <div class="text-xs text-gray-500 mb-1">6 lugares</div>
                                    <div class="text-xs text-amber-600 font-medium mb-2">16:00</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-amber-100 text-amber-700">Reservada</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 5 - Livre -->
                            <div onclick="openMesaModal(5, 'livre')" class="bg-white border-2 border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-50 hover:border-green-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-chair text-green-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 05</div>
                                    <div class="text-xs text-gray-500 mb-2">8 lugares</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Livre</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 6 - Ocupada -->
                            <div onclick="openMesaModal(6, 'ocupada')" class="bg-white border-2 border-red-200 rounded-lg p-4 cursor-pointer hover:bg-red-50 hover:border-red-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-users text-red-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 06</div>
                                    <div class="text-xs text-gray-500 mb-1">2 pessoas</div>
                                    <div class="text-xs text-red-600 font-medium mb-2">1h20min</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-red-100 text-red-700">Ocupada</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 7 - Livre -->
                            <div onclick="openMesaModal(7, 'livre')" class="bg-white border-2 border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-50 hover:border-green-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-chair text-green-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 07</div>
                                    <div class="text-xs text-gray-500 mb-2">2 lugares</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Livre</span>
                                </div>
                            </div>
                            
                            <!-- Mesa 8 - Livre -->
                            <div onclick="openMesaModal(8, 'livre')" class="bg-white border-2 border-green-200 rounded-lg p-4 cursor-pointer hover:bg-green-50 hover:border-green-300 transition-all duration-200 hover-lift">
                                <div class="text-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-chair text-green-600"></i>
                                    </div>
                                    <div class="text-sm font-semibold text-gray-900 mb-1">Mesa 08</div>
                                    <div class="text-xs text-gray-500 mb-2">6 lugares</div>
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Livre</span>
                                </div>
                            </div>
                                </div>
                            </div>
                            
                            <!-- Linha Divisória Vertical -->
                            <div class="hidden lg:block w-px bg-gray-200 mx-4"></div>
                            
                            <!-- Seção Comandas -->
                            <div class="lg:col-span-1">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center space-x-2">
                                        <span class="bg-orange-100 text-orange-700 text-xs font-medium px-2 py-1 rounded">3 ativas</span>
                                    </div>
                                    <button onclick="novaComandaAvulsa()" class="bg-orange-500 text-white px-3 py-1 rounded text-xs font-medium hover:bg-orange-600 transition-colors">
                                        <i class="fas fa-plus mr-1"></i>Nova
                                    </button>
                                </div>
                                <div class="comandas-scroll" style="max-height: 600px;">
                                        <!-- Lista de Comandas -->
                                        <div class="space-y-3">
                                            <!-- Comanda Ativa 1 -->
                                            <div onclick="openComandaAvulsaModal('C001', 'ativa')" class="bg-white border border-blue-200 rounded-lg p-3 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 hover-lift">
                                                <div class="flex items-center justify-between mb-2">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                                            <i class="fas fa-receipt text-blue-600 text-xs"></i>
                                                        </div>
                                                        <div>
                                                            <div class="text-sm font-semibold text-gray-900">#C001</div>
                                                            <div class="text-xs text-gray-500">João Silva</div>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-bold text-gray-900">R$ 34,50</div>
                                                        <div class="text-xs text-blue-600 font-medium">25min</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Ativa</span>
                                                    <div class="text-xs text-gray-500">2 itens</div>
                                                </div>
                                            </div>
                                            
                                            <!-- Comanda Ativa 2 -->
                                            <div onclick="openComandaAvulsaModal('C002', 'ativa')" class="bg-white border border-blue-200 rounded-lg p-3 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 hover-lift">
                                                <div class="flex items-center justify-between mb-2">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                                            <i class="fas fa-receipt text-blue-600 text-xs"></i>
                                                        </div>
                                                        <div>
                                                            <div class="text-sm font-semibold text-gray-900">#C002</div>
                                                            <div class="text-xs text-gray-500">Maria Santos</div>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-bold text-gray-900">R$ 18,90</div>
                                                        <div class="text-xs text-blue-600 font-medium">12min</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Ativa</span>
                                                    <div class="text-xs text-gray-500">1 item</div>
                                                </div>
                                            </div>
                                            
                                            <!-- Comanda Pendente -->
                                            <div onclick="openComandaAvulsaModal('C004', 'pendente')" class="bg-white border border-amber-200 rounded-lg p-3 cursor-pointer hover:bg-amber-50 hover:border-amber-300 transition-all duration-200 hover-lift">
                                                <div class="flex items-center justify-between mb-2">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center">
                                                            <i class="fas fa-clock text-amber-600 text-xs"></i>
                                                        </div>
                                                        <div>
                                                            <div class="text-sm font-semibold text-gray-900">#C004</div>
                                                            <div class="text-xs text-gray-500">Carlos Lima</div>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-bold text-gray-900">R$ 67,20</div>
                                                        <div class="text-xs text-amber-600 font-medium">Aguardando</div>
                                                    </div>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-amber-100 text-amber-700">Pend. Pagamento</span>
                                                    <div class="text-xs text-gray-500">4 itens</div>
                                                </div>
                                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modal Pedidos Finalizados - Delivery -->
            <div id="finalizados-delivery" class="mt-6 finalizados-modal">
                <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-check-double text-green-500 mr-2"></i>Pedidos Finalizados Hoje
                                </h3>
                                <span class="text-gray-400">•</span>
                                <span class="text-lg font-semibold text-gray-800">20</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center space-x-2">
                                        <label class="text-sm font-medium text-gray-700">Status:</label>
                                        <select class="text-sm border border-gray-300 rounded px-3 py-1 focus:ring-2 focus:ring-orange-500 focus:border-orange-500">
                                            <option>Todos</option>
                                            <option>Entregues</option>
                                            <option>Retirados</option>
                                            <option>Cancelados</option>
                                        </select>
                                    </div>
                                    <button class="text-sm bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors">
                                        <i class="fas fa-download mr-2"></i>Exportar
                                    </button>
                                </div>
                                <div class="text-sm text-gray-600">
                                    <span class="font-semibold text-green-600">R$ 824,90</span> em vendas
                                </div>
                                <button onclick="toggleFinalizados('delivery')" id="btn-toggle-finalizados-delivery" class="text-gray-400 hover:text-gray-600 transition-colors">
                                    <i class="fas fa-chevron-down text-lg"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="finalizados-content-delivery" class="hidden">
                        <div class="p-0">
                            <!-- Lista de Pedidos Finalizados -->
                            <div onclick="openPedidoFinalizadoModal('005')" class="p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-100">
                                <div class="flex justify-between items-start mb-2">
                                    <div class="flex items-center space-x-3">
                                        <span class="text-sm font-semibold text-gray-900">#005</span>
                                        <span class="text-xs text-gray-500">16:45</span>
                                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Entregue</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-bold text-gray-900">R$ 67,50</div>
                                        <div class="text-xs text-gray-500">32min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Pedro Oliveira</p>
                                <p class="text-xs text-gray-600">2x Pizza Calabresa, 1x Refrigerante 2L, 1x Sobremesa Pudim</p>
                            </div>
                            
                            <div onclick="openPedidoFinalizadoModal('006')" class="p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-100">
                                <div class="flex justify-between items-start mb-2">
                                    <div class="flex items-center space-x-3">
                                        <span class="text-sm font-semibold text-gray-900">#006</span>
                                        <span class="text-xs text-gray-500">15:30</span>
                                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Entregue</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-bold text-gray-900">R$ 42,90</div>
                                        <div class="text-xs text-gray-500">28min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Ana Silva</p>
                                <p class="text-xs text-gray-600">1x Hambúrguer Artesanal, 1x Batata Frita, 2x Refrigerante</p>
                            </div>
                            
                            <div onclick="openPedidoFinalizadoModal('007')" class="p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-100">
                                <div class="flex justify-between items-start mb-2">
                                    <div class="flex items-center space-x-3">
                                        <span class="text-sm font-semibold text-gray-900">#007</span>
                                        <span class="text-xs text-gray-500">14:15</span>
                                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Retirado</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-bold text-gray-900">R$ 28,50</div>
                                        <div class="text-xs text-gray-500">15min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">Carlos Santos</p>
                                <p class="text-xs text-gray-600">2x Pizza Individual, 1x Refrigerante</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Atendimentos Finalizados - Salão -->
            <div id="finalizados-salao" class="mt-6 finalizados-modal hidden">
                <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                    <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <h3 class="text-lg font-semibold text-gray-800">
                                    <i class="fas fa-check-double text-green-500 mr-2"></i>Atendimentos Finalizados Hoje
                                </h3>
                                <span class="text-gray-400">•</span>
                                <span class="text-lg font-semibold text-gray-800">15</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center space-x-2">
                                        <label class="text-sm font-medium text-gray-700">Tipo:</label>
                                        <select class="text-sm border border-gray-300 rounded px-3 py-1 focus:ring-2 focus:ring-orange-500 focus:border-orange-500">
                                            <option>Todos</option>
                                            <option>Mesas</option>
                                            <option>Comandas</option>
                                        </select>
                                    </div>
                                    <button class="text-sm bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors">
                                        <i class="fas fa-download mr-2"></i>Exportar
                                    </button>
                                </div>
                                <div class="text-sm text-gray-600">
                                    <span class="font-semibold text-green-600">R$ 567,40</span> em vendas
                                </div>
                                <button onclick="toggleFinalizados('salao')" id="btn-toggle-finalizados-salao" class="text-gray-400 hover:text-gray-600 transition-colors">
                                    <i class="fas fa-chevron-down text-lg"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="finalizados-content-salao" class="hidden">
                        <div class="p-0">
                            <!-- Lista de Atendimentos Finalizados do Salão -->
                            <div onclick="openAtendimentoFinalizadoModal('M001')" class="p-4 hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-100">
                                <div class="flex justify-between items-start mb-2">
                                    <div class="flex items-center space-x-3">
                                        <span class="text-sm font-semibold text-gray-900">Mesa 05</span>
                                        <span class="text-xs text-gray-500">16:30 - 17:15</span>
                                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700">Finalizada</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-bold text-gray-900">R$ 89,50</div>
                                        <div class="text-xs text-gray-500">45min</div>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-700 font-medium mb-1">4 pessoas</p>
                                <p class="text-xs text-gray-600">2x Pizza Família, 4x Refrigerante, 1x Sobremesa</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba Configurações -->
        <div id="content-configuracoes" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                <!-- Sidebar Configurações -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg card-shadow p-4">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">
                            <i class="fas fa-cog text-orange-500 mr-2"></i>Configurações
                        </h3>
                        <nav class="space-y-2">
                            <button onclick="showConfigSection('empresa')" class="config-section w-full text-left px-3 py-2 rounded text-sm text-gray-600 hover:bg-gray-50 transition-colors">
                                <i class="fas fa-briefcase mr-2"></i>Empresa
                            </button>
                            <button onclick="showConfigSection('loja-online')" class="config-section w-full text-left px-3 py-2 rounded text-sm text-gray-600 hover:bg-gray-50 transition-colors">
                                <i class="fas fa-globe mr-2"></i>Loja Online
                            </button>
                            <button onclick="showConfigSection('colaboradores')" class="config-section w-full text-left px-3 py-2 rounded text-sm text-gray-600 hover:bg-gray-50 transition-colors">
                                <i class="fas fa-users mr-2"></i>Colaboradores
                            </button>
                        </nav>
                    </div>
                </div>

                <!-- Conteúdo Configurações -->
                <div class="lg:col-span-3">
                    <!-- Seção Empresa -->
                    <div id="config-empresa" class="config-content">
                        <div class="bg-white rounded-lg card-shadow p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-6">
                                <i class="fas fa-briefcase text-orange-500 mr-2"></i>Configurações da Empresa
                            </h3>
                            <form class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Razão Social</label>
                                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500" placeholder="Nome da empresa">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">CNPJ</label>
                                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500" placeholder="00.000.000/0000-00">
                                    </div>
                                </div>
                                <div class="pt-4">
                                    <button type="submit" class="gradient-bg text-white px-6 py-2 rounded-lg hover:opacity-90 transition-opacity">
                                        <i class="fas fa-save mr-2"></i>Salvar Alterações
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Seção Loja Online -->
                    <div id="config-loja-online" class="config-content hidden">
                        <div class="bg-white rounded-lg card-shadow p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-6">
                                <i class="fas fa-globe text-orange-500 mr-2"></i>Configurações da Loja Online
                            </h3>
                            <form class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">URL do Cardápio</label>
                                    <div class="flex">
                                        <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">
                                            cardapio.app/
                                        </span>
                                        <input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500" placeholder="meu-restaurante">
                                    </div>
                                </div>
                                <div class="pt-4">
                                    <button type="submit" class="gradient-bg text-white px-6 py-2 rounded-lg hover:opacity-90 transition-opacity">
                                        <i class="fas fa-save mr-2"></i>Salvar Alterações
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Seção Colaboradores -->
                    <div id="config-colaboradores" class="config-content hidden">
                        <div class="bg-white rounded-lg card-shadow p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-semibold text-gray-800">
                                    <i class="fas fa-users text-orange-500 mr-2"></i>Colaboradores
                                </h3>
                                <button class="gradient-bg text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity">
                                    <i class="fas fa-plus mr-2"></i>Adicionar
                                </button>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Função</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">João Silva</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Garçom</td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                <button class="text-orange-600 hover:text-orange-900 mr-3">Editar</button>
                                                <button class="text-red-600 hover:text-red-900">Excluir</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Modal da Mesa -->
    <div id="mesa-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3">
                    <h3 class="text-lg font-semibold text-gray-800">Mesa <span id="mesa-number">1</span></h3>
                    <span id="mesa-status" class="text-sm font-semibold px-3 py-1 rounded-full bg-green-100 text-green-700">Livre</span>
                </div>
                <button onclick="closeMesaModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="mesa-content">
                <!-- Conteúdo dinâmico será inserido aqui -->
            </div>
        </div>
    </div>

    <!-- Modal das Comandas Avulsas -->
    <div id="comandas-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[85vh] flex flex-col">
            <div class="flex items-center justify-between mb-4 flex-shrink-0">
                <div class="flex items-center space-x-3">
                    <h3 class="text-lg font-semibold text-gray-800">
                        <i class="fas fa-receipt text-orange-500 mr-2"></i>Comandas Avulsas
                    </h3>
                    <span class="bg-orange-100 text-orange-700 text-xs font-medium px-2 py-1 rounded">3 ativas</span>
                </div>
                <div class="flex items-center space-x-3">
                    <button onclick="novaComandaAvulsa()" class="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium">
                        <i class="fas fa-plus mr-2"></i>Nova Comanda
                    </button>
                    <button onclick="closeComandasModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto comandas-scroll">
                <!-- Lista de Comandas -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Comanda Ativa 1 -->
                    <div onclick="openComandaAvulsaModal('C001', 'ativa')" class="bg-white border border-blue-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 hover-lift">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-receipt text-blue-600"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-semibold text-gray-900">Comanda #C001</div>
                                    <div class="text-xs text-gray-500">João Silva</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-bold text-gray-900">R$ 34,50</div>
                                <div class="text-xs text-blue-600 font-medium">25min</div>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Ativa</span>
                            <div class="text-xs text-gray-500">2 itens</div>
                        </div>
                    </div>
                    
                    <!-- Comanda Ativa 2 -->
                    <div onclick="openComandaAvulsaModal('C002', 'ativa')" class="bg-white border border-blue-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 hover-lift">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-receipt text-blue-600"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-semibold text-gray-900">Comanda #C002</div>
                                    <div class="text-xs text-gray-500">Maria Santos</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-bold text-gray-900">R$ 18,90</div>
                                <div class="text-xs text-blue-600 font-medium">12min</div>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Ativa</span>
                            <div class="text-xs text-gray-500">1 item</div>
                        </div>
                    </div>
                    
                    <!-- Comanda Pendente -->
                    <div onclick="openComandaAvulsaModal('C004', 'pendente')" class="bg-white border border-amber-200 rounded-lg p-4 cursor-pointer hover:bg-amber-50 hover:border-amber-300 transition-all duration-200 hover-lift">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-clock text-amber-600"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-semibold text-gray-900">Comanda #C004</div>
                                    <div class="text-xs text-gray-500">Carlos Lima</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-bold text-gray-900">R$ 67,20</div>
                                <div class="text-xs text-amber-600 font-medium">Aguardando</div>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-amber-100 text-amber-700">Pend. Pagamento</span>
                            <div class="text-xs text-gray-500">4 itens</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal PDV -->
    <div id="pdv-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[90vh] flex flex-col">
            <!-- Cabeçalho do Modal PDV -->
            <div class="flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-cash-register text-green-600"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900">Ponto de Venda</h3>
                        <p class="text-sm text-gray-500">Selecione produtos e destino da venda</p>
                    </div>
                </div>
                <button onclick="closePDVModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Conteúdo do Modal PDV -->
            <div class="flex-1 overflow-hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 h-full">
                    <!-- Painel de Produtos -->
                    <div class="lg:col-span-2 border-r border-gray-200 flex flex-col">
                        <!-- Filtros de Categoria -->
                        <div class="p-4 border-b border-gray-200 flex-shrink-0">
                            <div class="flex items-center space-x-2 overflow-x-auto">
                                <button onclick="filterCategory('todos')" class="category-filter active px-4 py-2 text-sm font-medium rounded-lg bg-orange-100 text-orange-700 whitespace-nowrap">
                                    Todos
                                </button>
                                <button onclick="filterCategory('lanches')" class="category-filter px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-100 whitespace-nowrap">
                                    Lanches
                                </button>
                                <button onclick="filterCategory('bebidas')" class="category-filter px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-100 whitespace-nowrap">
                                    Bebidas
                                </button>
                                <button onclick="filterCategory('porcoes')" class="category-filter px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-100 whitespace-nowrap">
                                    Porções
                                </button>
                                <button onclick="filterCategory('sobremesas')" class="category-filter px-4 py-2 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-100 whitespace-nowrap">
                                    Sobremesas
                                </button>
                            </div>
                        </div>
                        
                        <!-- Grade de Produtos -->
                        <div class="flex-1 overflow-y-auto p-4">
                            <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4" id="produtos-grid">
                                <!-- Lanches -->
                                <div onclick="openProdutoModal('hamburguer-artesanal')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="lanches">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-hamburger text-orange-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Hambúrguer Artesanal</h4>
                                        <p class="text-xs text-gray-500 mb-2">Pão brioche, carne 180g</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 22,90</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('pizza-margherita')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="lanches">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-pizza-slice text-orange-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Pizza Margherita</h4>
                                        <p class="text-xs text-gray-500 mb-2">Molho, mussarela, manjericão</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 28,00</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('sanduiche-natural')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="lanches">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-bread-slice text-orange-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Sanduíche Natural</h4>
                                        <p class="text-xs text-gray-500 mb-2">Pão integral, peito de peru</p>
                                        <span class="text-lg font-bold text-gray-900">R$ 12,90</span>
                                    </div>
                                </div>
                                
                                <!-- Bebidas -->
                                <div onclick="openProdutoModal('cerveja')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="bebidas">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-beer text-blue-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Cerveja</h4>
                                        <p class="text-xs text-gray-500 mb-2">Várias marcas disponíveis</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 6,00</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('refrigerante')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="bebidas">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-glass-whiskey text-red-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Refrigerante</h4>
                                        <p class="text-xs text-gray-500 mb-2">Coca-Cola, Pepsi, Guaraná</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 4,50</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('suco-natural')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="bebidas">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-glass-water text-green-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Suco Natural</h4>
                                        <p class="text-xs text-gray-500 mb-2">Laranja, limão, maracujá</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 8,00</span>
                                    </div>
                                </div>
                                
                                <!-- Porções -->
                                <div onclick="openProdutoModal('batata-frita')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="porcoes">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-french-fries text-yellow-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Batata Frita</h4>
                                        <p class="text-xs text-gray-500 mb-2">Pequena, média ou grande</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 12,50</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('porcao-frango')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="porcoes">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-drumstick-bite text-yellow-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Porção de Frango</h4>
                                        <p class="text-xs text-gray-500 mb-2">À passarinho ou empanado</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 18,90</span>
                                    </div>
                                </div>
                                
                                <!-- Sobremesas -->
                                <div onclick="openProdutoModal('pudim')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="sobremesas">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-birthday-cake text-pink-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Pudim de Leite</h4>
                                        <p class="text-xs text-gray-500 mb-2">Com calda de caramelo</p>
                                        <span class="text-lg font-bold text-gray-900">R$ 8,90</span>
                                    </div>
                                </div>
                                
                                <div onclick="openProdutoModal('sorvete')" class="produto-item bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-300 hover:shadow-md transition-all duration-200 hover-lift" data-categoria="sobremesas">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-3">
                                            <i class="fas fa-ice-cream text-pink-600 text-xl"></i>
                                        </div>
                                        <h4 class="text-sm font-medium text-gray-900 mb-1">Sorvete</h4>
                                        <p class="text-xs text-gray-500 mb-2">Diversos sabores</p>
                                        <span class="text-lg font-bold text-gray-900">A partir de R$ 6,50</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Painel do Carrinho -->
                    <div class="lg:col-span-1 flex flex-col">
                        <!-- Seleção de Destino -->
                        <div class="p-4 border-b border-gray-200 flex-shrink-0">
                            <h4 class="text-sm font-medium text-gray-900 mb-3">Destino da Venda</h4>
                            <div class="space-y-2">
                                <div class="flex bg-gray-100 rounded-lg p-1">
                                    <button onclick="setDestinoVenda('balcao')" id="destino-balcao" class="destino-toggle flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 bg-white text-gray-900 shadow-sm">
                                        <i class="fas fa-store mr-1"></i>Balcão
                                    </button>
                                    <button onclick="setDestinoVenda('mesa')" id="destino-mesa" class="destino-toggle flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 text-gray-500 hover:text-gray-700">
                                        <i class="fas fa-chair mr-1"></i>Mesa
                                    </button>
                                </div>
                                <div class="flex bg-gray-100 rounded-lg p-1">
                                    <button onclick="setDestinoVenda('comanda')" id="destino-comanda" class="destino-toggle flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 text-gray-500 hover:text-gray-700">
                                        <i class="fas fa-receipt mr-1"></i>Comanda
                                    </button>
                                    <button onclick="setDestinoVenda('delivery')" id="destino-delivery" class="destino-toggle flex-1 px-3 py-2 text-xs font-medium rounded-md transition-all duration-200 text-gray-500 hover:text-gray-700">
                                        <i class="fas fa-motorcycle mr-1"></i>Delivery
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Seleção específica do destino -->
                            <div id="destino-especifico" class="mt-3 hidden">
                                <select id="select-destino" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500">
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Itens do Carrinho -->
                        <div class="flex-1 overflow-hidden p-4 flex flex-col">
                            <div class="flex items-center justify-between mb-4 flex-shrink-0">
                                <h4 class="text-sm font-medium text-gray-900">Itens Selecionados</h4>
                                <button onclick="clearCart()" class="text-xs text-red-500 hover:text-red-700">
                                    <i class="fas fa-trash mr-1"></i>Limpar
                                </button>
                            </div>
                            
                            <div id="cart-items" class="space-y-3 flex-1 overflow-y-auto">
                                <div class="text-center py-8 text-gray-400">
                                    <i class="fas fa-shopping-cart text-2xl mb-2"></i>
                                    <p class="text-sm">Nenhum item selecionado</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Forma de Pagamento -->
                        <div class="p-4 border-t border-gray-200 flex-shrink-0">
                            <h4 class="text-sm font-medium text-gray-900 mb-3">Forma de Pagamento</h4>
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <button onclick="setFormaPagamento('dinheiro')" id="pagamento-dinheiro" class="pagamento-toggle px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="fas fa-money-bill mr-1"></i>Dinheiro
                                </button>
                                <button onclick="setFormaPagamento('cartao')" id="pagamento-cartao" class="pagamento-toggle px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="fas fa-credit-card mr-1"></i>Cartão
                                </button>
                                <button onclick="setFormaPagamento('pix')" id="pagamento-pix" class="pagamento-toggle px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="fas fa-qrcode mr-1"></i>PIX
                                </button>
                                <button onclick="setFormaPagamento('fiado')" id="pagamento-fiado" class="pagamento-toggle px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
                                    <i class="fas fa-handshake mr-1"></i>Fiado
                                </button>
                            </div>
                        </div>
                        
                        <!-- Resumo e Finalização -->
                        <div class="p-4 border-t border-gray-200 flex-shrink-0">
                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm text-gray-600">Subtotal</span>
                                    <span id="cart-subtotal" class="text-sm font-medium text-gray-900">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-xs text-gray-500">Taxa de serviço (10%)</span>
                                    <span id="cart-taxa" class="text-xs text-gray-500">R$ 0,00</span>
                                </div>
                                <div class="border-t border-gray-200 pt-2">
                                    <div class="flex justify-between items-center">
                                        <span class="font-semibold text-gray-900">Total</span>
                                        <span id="cart-total" class="font-bold text-lg text-gray-900">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>
                            
                            <button onclick="finalizarVenda()" id="btn-finalizar-venda" class="w-full bg-green-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>
                                <i class="fas fa-check mr-2"></i>Finalizar Venda
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal do Pedido -->
    <div id="pedido-modal" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[85vh] flex flex-col">
            <!-- Cabeçalho do Modal -->
            <div class="flex items-center justify-between p-4 border-b border-gray-100 flex-shrink-0">
                <div class="flex items-center space-x-2">
                    <h3 class="text-lg font-semibold text-gray-900">Pedido <span id="pedido-number">#001</span></h3>
                    <span class="text-gray-400">•</span>
                    <span id="pedido-status" class="text-xs text-gray-600 font-medium">Novo</span>
                    <span class="text-gray-400">•</span>
                    <span class="text-xs text-gray-500" id="pedido-timer">5min</span>
                </div>
                <button onclick="closePedidoModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Conteúdo do Modal -->
            <div id="pedido-content" class="flex-1 overflow-y-auto p-4">
                <!-- Conteúdo dinâmico será inserido aqui -->
            </div>
        </div>
    </div>

    <!-- Modal de Seleção de Produto -->
    <div id="produto-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 hidden p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md max-h-[85vh] flex flex-col">
            <!-- Cabeçalho do Modal -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0">
                <h3 id="produto-modal-title" class="text-lg font-semibold text-gray-900">Selecionar Produto</h3>
                <button onclick="closeProdutoModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Conteúdo do Modal -->
            <div class="flex-1 overflow-y-auto p-4">
                <div id="produto-modal-content">
                    <!-- Conteúdo dinâmico será inserido aqui -->
                </div>
            </div>
            
            <!-- Rodapé do Modal -->
            <div class="p-4 border-t border-gray-200 flex-shrink-0">
                <div class="flex items-center justify-between mb-3">
                    <span class="text-sm font-medium text-gray-900">Quantidade:</span>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateModalQuantity(-1)" class="w-8 h-8 bg-gray-100 rounded text-sm hover:bg-gray-200 transition-colors">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span id="modal-quantity" class="text-sm font-medium w-8 text-center">1</span>
                        <button onclick="updateModalQuantity(1)" class="w-8 h-8 bg-gray-100 rounded text-sm hover:bg-gray-200 transition-colors">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
                <button onclick="addSelectedProdutoToCart()" id="btn-add-produto" class="w-full bg-green-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors">
                    <i class="fas fa-plus mr-2"></i>Adicionar ao Carrinho
                </button>
            </div>
        </div>
    </div>

    <script>
        // Controle de Abas Principais
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('text-orange-500', 'border-orange-500');
                btn.classList.add('text-gray-600', 'border-transparent');
            });
            
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            
            const activeBtn = document.getElementById(`tab-${tabName}`);
            activeBtn.classList.remove('text-gray-600', 'border-transparent');
            activeBtn.classList.add('text-orange-500', 'border-orange-500');
        }

        // Controle de Toggle Delivery/Salão
        function togglePedidosView(view) {
            document.querySelectorAll('.pedidos-toggle').forEach(btn => {
                btn.classList.remove('bg-white', 'text-gray-900', 'shadow-sm');
                btn.classList.add('text-gray-500');
            });
            
            const activeBtn = document.getElementById(`btn-${view}`);
            activeBtn.classList.add('bg-white', 'text-gray-900', 'shadow-sm');
            activeBtn.classList.remove('text-gray-500');
            
            document.querySelectorAll('.pedidos-panel').forEach(panel => {
                panel.classList.add('hidden');
            });
            document.getElementById(`${view}-panel`).classList.remove('hidden');
            
            document.querySelectorAll('.finalizados-modal').forEach(modal => {
                modal.classList.add('hidden');
            });
            document.getElementById(`finalizados-${view}`).classList.remove('hidden');
        }

        // Modal da Mesa
        function openMesaModal(numero, status) {
            const modal = document.getElementById('mesa-modal');
            const mesaNumber = document.getElementById('mesa-number');
            const mesaStatus = document.getElementById('mesa-status');
            const mesaContent = document.getElementById('mesa-content');
            
            mesaNumber.textContent = numero;
            mesaStatus.textContent = status.charAt(0).toUpperCase() + status.slice(1);
            
            mesaStatus.className = 'text-sm font-semibold px-3 py-1 rounded-full';
            if (status === 'livre') {
                mesaStatus.classList.add('bg-green-100', 'text-green-700');
            } else if (status === 'ocupada') {
                mesaStatus.classList.add('bg-red-100', 'text-red-700');
            } else if (status === 'reservada') {
                mesaStatus.classList.add('bg-amber-100', 'text-amber-700');
            }
            
            if (status === 'ocupada') {
                mesaContent.innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <h4 class="text-sm font-medium text-gray-900">4 pessoas</h4>
                                    <span class="text-gray-400">•</span>
                                    <span class="text-sm text-gray-500">Desde 15:30</span>
                                </div>
                                <button onclick="adicionarPessoa(${numero})" class="text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors">
                                    <i class="fas fa-plus mr-1"></i>Pessoa
                                </button>
                            </div>
                        </div>
                        
                        <!-- Controle por Pessoa -->
                        <div class="border-t pt-4">
                            <div class="space-y-3">
                                <!-- Pessoa 1 -->
                                <div class="border border-gray-200 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-medium text-gray-900">João Silva</span>
                                            <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded">Pago</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-bold text-gray-900">R$ 32,90</span>
                                            <button onclick="editarPessoa(${numero}, 1)" class="text-xs text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="space-y-1 text-xs text-gray-600">
                                        <div class="flex justify-between">
                                            <span>1x Hambúrguer Gourmet</span>
                                            <span>R$ 22,90</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>1x Refrigerante</span>
                                            <span>R$ 4,50</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>1x Batata Frita (compartilhada)</span>
                                            <span>R$ 5,50</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Pessoa 2 -->
                                <div class="border border-gray-200 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-medium text-gray-900">Maria Santos</span>
                                            <span class="text-xs px-2 py-1 bg-red-100 text-red-700 rounded">Pendente</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-bold text-gray-900">R$ 27,40</span>
                                            <button onclick="editarPessoa(${numero}, 2)" class="text-xs text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="space-y-1 text-xs text-gray-600">
                                        <div class="flex justify-between">
                                            <span>1x Hambúrguer Gourmet</span>
                                            <span>R$ 22,90</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>1x Refrigerante</span>
                                            <span>R$ 4,50</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 flex space-x-2">
                                        <button onclick="marcarPago(${numero}, 2)" class="text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition-colors">
                                            Marcar Pago
                                        </button>
                                        <button onclick="adicionarItem(${numero}, 2)" class="text-xs border border-gray-300 text-gray-700 px-2 py-1 rounded hover:bg-gray-50 transition-colors">
                                            + Item
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Pessoa 3 -->
                                <div class="border border-gray-200 rounded-lg p-3">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-medium text-gray-900">Carlos Lima</span>
                                            <span class="text-xs px-2 py-1 bg-red-100 text-red-700 rounded">Pendente</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-sm font-bold text-gray-900">R$ 10,50</span>
                                            <button onclick="editarPessoa(${numero}, 3)" class="text-xs text-gray-500 hover:text-gray-700">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="space-y-1 text-xs text-gray-600">
                                        <div class="flex justify-between">
                                            <span>1x Refrigerante</span>
                                            <span>R$ 4,50</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>1x Batata Frita (compartilhada)</span>
                                            <span>R$ 5,50</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Couvert</span>
                                            <span>R$ 0,50</span>
                                        </div>
                                    </div>
                                    <div class="mt-2 flex space-x-2">
                                        <button onclick="marcarPago(${numero}, 3)" class="text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition-colors">
                                            Marcar Pago
                                        </button>
                                        <button onclick="adicionarItem(${numero}, 3)" class="text-xs border border-gray-300 text-gray-700 px-2 py-1 rounded hover:bg-gray-50 transition-colors">
                                            + Item
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Resumo Total -->
                        <div class="border-t pt-4">
                            <div class="bg-gray-50 rounded-lg p-3 space-y-2">
                                <div class="flex justify-between items-center text-sm">
                                    <span class="text-gray-600">Total da Mesa</span>
                                    <span class="font-bold text-gray-900">R$ 70,80</span>
                                </div>
                                <div class="flex justify-between items-center text-xs">
                                    <span class="text-green-600">Pago</span>
                                    <span class="text-green-600 font-medium">R$ 32,90</span>
                                </div>
                                <div class="flex justify-between items-center text-xs">
                                    <span class="text-red-600">Pendente</span>
                                    <span class="text-red-600 font-medium">R$ 37,90</span>
                                </div>
                                <div class="border-t border-gray-200 pt-2">
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-500">Comanda</span>
                                        <span class="text-xs font-medium px-2 py-1 bg-amber-100 text-amber-700 rounded">#C003</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="flex space-x-2">
                                <button onclick="liberarMesa(${numero})" class="w-20 border border-gray-300 text-gray-700 py-2 px-2 rounded text-xs font-medium hover:bg-gray-50 transition-colors">
                                    Liberar
                                </button>
                                <button onclick="dividirConta(${numero})" class="flex-1 bg-blue-500 text-white py-2 px-3 rounded text-xs font-medium hover:bg-blue-600 transition-colors">
                                    Dividir Conta
                                </button>
                                <button onclick="verComanda('C003')" class="flex-1 bg-amber-500 text-white py-2 px-3 rounded text-xs font-medium hover:bg-amber-600 transition-colors">
                                    Ver Comanda
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            } else if (status === 'reservada') {
                mesaContent.innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <h4 class="text-sm font-medium text-gray-900">João Silva</h4>
                                <span class="text-gray-400">•</span>
                                <span class="text-sm text-gray-500">4 pessoas</span>
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="bg-amber-50 rounded-lg p-3 space-y-2">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Horário da reserva</span>
                                    <span class="text-sm font-medium">16:00</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Contato</span>
                                    <span class="text-sm font-medium">(11) 99999-1234</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="flex space-x-3">
                                <button onclick="cancelarReserva(${numero})" class="w-24 border border-gray-300 text-gray-700 py-2 px-3 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                    Cancelar
                                </button>
                                <button onclick="confirmarChegada(${numero})" class="flex-1 bg-green-500 text-white py-2 px-4 rounded font-medium hover:bg-green-600 transition-colors">
                                    Confirmar Chegada
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                mesaContent.innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <h4 class="text-sm font-medium text-gray-900">Mesa Disponível</h4>
                                <span class="text-gray-400">•</span>
                                <span class="text-sm text-gray-500">${numero <= 3 ? '2' : numero <= 5 ? '4' : numero <= 6 ? '6' : '8'} lugares</span>
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="bg-green-50 rounded-lg p-3 text-center">
                                <div class="text-sm text-green-700">Esta mesa está livre e pronta para uso</div>
                            </div>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="flex space-x-3">
                                <button onclick="reservarMesa(${numero})" class="w-24 border border-gray-300 text-gray-700 py-2 px-3 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                    Reservar
                                </button>
                                <button onclick="ocuparMesa(${numero})" class="flex-1 bg-green-500 text-white py-2 px-4 rounded font-medium hover:bg-green-600 transition-colors">
                                    Ocupar Mesa
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
        }
        
        function closeMesaModal() {
            document.getElementById('mesa-modal').classList.add('hidden');
        }

        // Mostrar Seção de Configuração
        function showConfigSection(section) {
            document.querySelectorAll('.config-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            document.querySelectorAll('.config-section').forEach(item => {
                item.classList.remove('active');
            });
            
            document.getElementById(`config-${section}`).classList.remove('hidden');
            event.target.classList.add('active');
        }

        // Toggle Pedidos Finalizados
        function toggleFinalizados(tipo) {
            const content = document.getElementById(`finalizados-content-${tipo}`);
            const button = document.getElementById(`btn-toggle-finalizados-${tipo}`);
            const icon = button.querySelector('i');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                content.classList.add('hidden');
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Modal do Pedido
        function openPedidoModal(numero, status) {
            const modal = document.getElementById('pedido-modal');
            const pedidoNumber = document.getElementById('pedido-number');
            const pedidoStatus = document.getElementById('pedido-status');
            const pedidoContent = document.getElementById('pedido-content');
            
            pedidoNumber.textContent = `#${numero}`;
            
            const pedidos = {
                '001': {
                    cliente: 'João Silva',
                    telefone: '(11) 99999-1234',
                    endereco: 'Rua das Flores, 123 - Centro',
                    horario: '10:30',
                    itens: [
                        { nome: 'Hambúrguer Artesanal', qtd: 2, preco: 18.90, obs: 'Sem cebola' },
                        { nome: 'Batata Frita Grande', qtd: 1, preco: 8.10, obs: '' }
                    ],
                    total: 45.90,
                    pagamento: 'Cartão de Crédito',
                    observacoes: 'Entregar no portão azul'
                }
            };
            
            const pedido = pedidos[numero] || pedidos['001'];
            
            pedidoStatus.className = 'text-xs text-gray-600 font-medium';
            const pedidoTimer = document.getElementById('pedido-timer');
            
            if (status === 'novo') {
                pedidoStatus.textContent = 'Novo';
            } else if (status === 'preparo') {
                pedidoStatus.textContent = 'Em Preparo';
            } else if (status === 'pronto') {
                pedidoStatus.textContent = 'Pronto';
            }
            
            let itensHtml = '';
            pedido.itens.forEach((item, index) => {
                itensHtml += `
                    <div class="flex justify-between items-start text-sm">
                        <div class="flex-1">
                            <div class="font-medium">${item.qtd} • ${item.nome}</div>
                            ${item.obs ? `<div class="text-xs text-gray-500 mt-1">${item.obs}</div>` : ''}
                        </div>
                        <span class="font-medium ml-4">R$ ${(item.preco * item.qtd).toFixed(2)}</span>
                    </div>
                `;
            });
            
            let botoesHtml = '';
            if (status === 'novo') {
                botoesHtml = `
                    <div class="flex space-x-3">
                        <button onclick="rejeitarPedido('${numero}')" class="w-24 border border-gray-300 text-gray-700 py-2 px-3 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                            Rejeitar
                        </button>
                        <button onclick="aceitarPedido('${numero}')" class="flex-1 bg-green-500 text-white py-2 px-4 rounded font-medium hover:bg-green-600 transition-colors">
                            Aceitar Pedido
                        </button>
                    </div>
                `;
            } else if (status === 'preparo') {
                botoesHtml = `
                    <div class="flex space-x-3">
                        <button onclick="cancelarPedido('${numero}')" class="w-24 border border-gray-300 text-gray-700 py-2 px-3 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                            Cancelar
                        </button>
                        <button onclick="finalizarPedido('${numero}')" class="flex-1 bg-green-500 text-white py-2 px-4 rounded font-medium hover:bg-green-600 transition-colors">
                            Marcar como Pronto
                        </button>
                    </div>
                `;
            } else if (status === 'pronto') {
                botoesHtml = `
                    <div class="flex space-x-3">
                        <button onclick="voltarPreparo('${numero}')" class="w-32 border border-gray-300 text-gray-700 py-2 px-3 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                            Voltar ao Preparo
                        </button>
                        <button onclick="entregarPedido('${numero}')" class="flex-1 bg-blue-500 text-white py-2 px-4 rounded font-medium hover:bg-blue-600 transition-colors">
                            Marcar como Entregue
                        </button>
                    </div>
                `;
            }
            
            pedidoContent.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <div class="flex items-center space-x-2 mb-2">
                            <h4 class="text-sm font-medium text-gray-900">${pedido.cliente}</h4>
                            <span class="text-gray-400">•</span>
                            <a href="https://wa.me/55${pedido.telefone.replace(/\D/g, '')}" target="_blank" class="text-sm text-green-600 hover:text-green-700 font-medium transition-colors">
                                ${pedido.telefone}
                            </a>
                        </div>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="space-y-2">
                            ${itensHtml}
                        </div>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="bg-gray-50 rounded-lg p-3 space-y-2">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600">Subtotal</span>
                                <span class="text-sm font-medium">R$ ${pedido.total.toFixed(2)}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600">Taxa de entrega</span>
                                <span class="text-sm font-medium">R$ 5,00</span>
                            </div>
                            <div class="border-t border-gray-200 pt-2">
                                <div class="flex justify-between items-center">
                                    <span class="font-semibold text-gray-900">Total</span>
                                    <span class="font-bold text-lg text-gray-900">R$ ${(pedido.total + 5.00).toFixed(2)}</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center pt-1">
                                <span class="text-xs text-gray-500">Forma de pagamento</span>
                                <span class="text-xs font-medium px-2 py-1 bg-green-100 text-green-700 rounded">${pedido.pagamento}</span>
                            </div>
                        </div>
                        ${pedido.observacoes ? `
                        <div class="mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-sticky-note text-yellow-600 text-xs mt-0.5"></i>
                                <div class="text-xs text-yellow-800">
                                    <span class="font-medium">Observações:</span> ${pedido.observacoes}
                                </div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="border-t pt-4 space-y-3">
                        <div class="text-xs">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-map-marker-alt text-gray-400 mt-0.5"></i>
                                <a href="https://maps.google.com/?q=${encodeURIComponent(pedido.endereco)}" target="_blank" class="text-blue-600 hover:text-blue-700 hover:underline transition-colors">
                                    ${pedido.endereco}
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border-t pt-4">
                        ${botoesHtml}
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }
        
        function closePedidoModal() {
            document.getElementById('pedido-modal').classList.add('hidden');
        }

        // Funções de ação dos pedidos
        function aceitarPedido(numero) {
            alert(`Pedido #${numero} aceito! Movendo para "Em Preparo"`);
            closePedidoModal();
        }
        
        function rejeitarPedido(numero) {
            if (confirm(`Tem certeza que deseja rejeitar o pedido #${numero}?`)) {
                alert(`Pedido #${numero} rejeitado!`);
                closePedidoModal();
            }
        }
        
        function finalizarPedido(numero) {
            alert(`Pedido #${numero} finalizado! Movendo para "Prontos"`);
            closePedidoModal();
        }
        
        function entregarPedido(numero) {
            alert(`Pedido #${numero} entregue! Movendo para histórico`);
            closePedidoModal();
        }
        
        function cancelarPedido(numero) {
            if (confirm(`Tem certeza que deseja cancelar o pedido #${numero}?`)) {
                alert(`Pedido #${numero} cancelado!`);
                closePedidoModal();
            }
        }
        
        function voltarPreparo(numero) {
            alert(`Pedido #${numero} voltou para "Em Preparo"`);
            closePedidoModal();
        }

        // Funções de ação das mesas
        function ocuparMesa(numero) {
            alert(`Mesa ${numero} ocupada! Abrindo nova comanda...`);
            closeMesaModal();
        }
        
        function liberarMesa(numero) {
            if (confirm(`Tem certeza que deseja liberar a mesa ${numero}?`)) {
                alert(`Mesa ${numero} liberada!`);
                closeMesaModal();
            }
        }
        
        function reservarMesa(numero) {
            alert(`Abrindo formulário de reserva para mesa ${numero}...`);
            closeMesaModal();
        }
        
        function confirmarChegada(numero) {
            alert(`Chegada confirmada! Mesa ${numero} agora está ocupada.`);
            closeMesaModal();
        }
        
        function cancelarReserva(numero) {
            if (confirm(`Tem certeza que deseja cancelar a reserva da mesa ${numero}?`)) {
                alert(`Reserva da mesa ${numero} cancelada!`);
                closeMesaModal();
            }
        }



        // Funções das Comandas Avulsas
        function openComandasModal() {
            document.getElementById('comandas-modal').classList.remove('hidden');
        }
        
        function closeComandasModal() {
            document.getElementById('comandas-modal').classList.add('hidden');
        }
        
        function novaComandaAvulsa() {
            const nome = prompt('Nome do cliente para a nova comanda:');
            if (nome) {
                alert(`Nova comanda avulsa criada para ${nome}!`);
                // Aqui você recarregaria a página ou atualizaria a lista
            }
        }
        
        function openComandaAvulsaModal(comanda, status) {
            const modal = document.getElementById('mesa-modal');
            const mesaNumber = document.getElementById('mesa-number');
            const mesaStatus = document.getElementById('mesa-status');
            const mesaContent = document.getElementById('mesa-content');
            
            // Alterar o modal para formato horizontal
            const modalContainer = modal.querySelector('.bg-white');
            modalContainer.className = 'bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto';
            
            mesaNumber.textContent = comanda;
            
            if (status === 'ativa') {
                mesaStatus.textContent = 'Ativa';
                mesaStatus.className = 'text-sm font-semibold px-3 py-1 rounded-full bg-blue-100 text-blue-700';
            } else if (status === 'pendente') {
                mesaStatus.textContent = 'Pendente Pagamento';
                mesaStatus.className = 'text-sm font-semibold px-3 py-1 rounded-full bg-amber-100 text-amber-700';
            }
            
            if (status === 'ativa') {
                mesaContent.innerHTML = `
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Informações da Comanda -->
                        <div class="lg:col-span-1">
                            <div class="bg-blue-50 rounded-lg p-4 mb-4">
                                <div class="flex items-center space-x-2 mb-2">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-receipt text-blue-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900">João Silva</h4>
                                        <div class="text-xs text-gray-500">Desde 16:15 • 25min ativo</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700">Comanda Ativa</span>
                                    <button onclick="adicionarItemComanda('${comanda}')" class="text-xs bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors">
                                        <i class="fas fa-plus mr-1"></i>Adicionar Item
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Resumo Total -->
                            <div class="bg-gray-50 rounded-lg p-4">
                                <h5 class="text-sm font-medium text-gray-900 mb-3">Resumo da Conta</h5>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-gray-600">Subtotal</span>
                                        <span class="font-medium text-gray-900">R$ 34,50</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs">
                                        <span class="text-gray-500">Taxa de serviço (10%)</span>
                                        <span class="text-gray-500">R$ 3,45</span>
                                    </div>
                                    <div class="border-t border-gray-200 pt-2">
                                        <div class="flex justify-between items-center">
                                            <span class="font-semibold text-gray-900">Total</span>
                                            <span class="font-bold text-lg text-gray-900">R$ 37,95</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Itens da Comanda -->
                        <div class="lg:col-span-2">
                            <div class="flex items-center justify-between mb-4">
                                <h5 class="text-sm font-medium text-gray-900">Itens Consumidos</h5>
                                <span class="text-xs text-gray-500">2 itens</span>
                            </div>
                            
                            <div class="space-y-3 mb-6">
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">2x Cerveja Heineken</span>
                                                <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded">Servido</span>
                                            </div>
                                            <div class="text-xs text-gray-500">Pedido às 16:20</div>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <span class="text-sm font-medium text-gray-900">R$ 18,00</span>
                                            <button onclick="removerItemComanda('${comanda}', 1)" class="text-xs text-red-500 hover:text-red-700 p-1">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">1x Porção Batata Frita</span>
                                                <span class="text-xs px-2 py-1 bg-amber-100 text-amber-700 rounded">Preparando</span>
                                            </div>
                                            <div class="text-xs text-gray-500">Pedido às 16:35</div>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <span class="text-sm font-medium text-gray-900">R$ 16,50</span>
                                            <button onclick="removerItemComanda('${comanda}', 2)" class="text-xs text-red-500 hover:text-red-700 p-1">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Ações -->
                            <div class="border-t pt-4">
                                <div class="flex space-x-3">
                                    <button onclick="cancelarComanda('${comanda}')" class="px-4 py-2 border border-gray-300 text-gray-700 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Cancelar Comanda
                                    </button>
                                    <button onclick="imprimirComanda('${comanda}')" class="px-4 py-2 border border-gray-300 text-gray-700 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        <i class="fas fa-print mr-2"></i>Imprimir
                                    </button>
                                    <button onclick="fecharComanda('${comanda}')" class="flex-1 bg-green-500 text-white py-2 px-4 rounded text-sm font-medium hover:bg-green-600 transition-colors">
                                        Fechar para Pagamento
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (status === 'pendente') {
                mesaContent.innerHTML = `
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Informações da Comanda -->
                        <div class="lg:col-span-1">
                            <div class="bg-amber-50 rounded-lg p-4 mb-4">
                                <div class="flex items-center space-x-2 mb-2">
                                    <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-clock text-amber-600"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900">Carlos Lima</h4>
                                        <div class="text-xs text-gray-500">Fechada às 17:45 • 15min aguardando</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="inline-flex px-2 py-1 text-xs font-medium rounded bg-amber-100 text-amber-700">Aguardando Pagamento</span>
                                </div>
                            </div>
                            
                            <!-- Resumo Total -->
                            <div class="bg-gray-50 rounded-lg p-4">
                                <h5 class="text-sm font-medium text-gray-900 mb-3">Total da Comanda</h5>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-gray-600">Subtotal</span>
                                        <span class="font-medium text-gray-900">R$ 61,20</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs">
                                        <span class="text-gray-500">Taxa de serviço (10%)</span>
                                        <span class="text-gray-500">R$ 6,12</span>
                                    </div>
                                    <div class="border-t border-gray-200 pt-2">
                                        <div class="flex justify-between items-center">
                                            <span class="font-semibold text-gray-900">Total</span>
                                            <span class="font-bold text-lg text-gray-900">R$ 67,32</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Itens da Comanda -->
                        <div class="lg:col-span-2">
                            <div class="flex items-center justify-between mb-4">
                                <h5 class="text-sm font-medium text-gray-900">Itens Consumidos</h5>
                                <span class="text-xs text-gray-500">4 itens</span>
                            </div>
                            
                            <div class="space-y-3 mb-6">
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">3x Cerveja Heineken</span>
                                                <span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded">Finalizado</span>
                                            </div>
                                            <div class="text-xs text-gray-500">R$ 9,00 cada</div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">R$ 27,00</span>
                                    </div>
                                </div>
                                
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">1x Hambúrguer Artesanal</span>
                                                <span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded">Finalizado</span>
                                            </div>
                                            <div class="text-xs text-gray-500">Com batata frita</div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">R$ 24,90</span>
                                    </div>
                                </div>
                                
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">1x Refrigerante Lata</span>
                                                <span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded">Finalizado</span>
                                            </div>
                                            <div class="text-xs text-gray-500">Coca-Cola</div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">R$ 4,50</span>
                                    </div>
                                </div>
                                
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <div class="flex justify-between items-start">
                                        <div class="flex-1">
                                            <div class="flex items-center space-x-2 mb-1">
                                                <span class="text-sm font-medium text-gray-900">1x Sobremesa Pudim</span>
                                                <span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded">Finalizado</span>
                                            </div>
                                            <div class="text-xs text-gray-500">Com calda de caramelo</div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">R$ 4,80</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Ações -->
                            <div class="border-t pt-4">
                                <div class="flex space-x-3">
                                    <button onclick="reabrirComanda('${comanda}')" class="px-4 py-2 border border-gray-300 text-gray-700 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Reabrir Comanda
                                    </button>
                                    <button onclick="imprimirComanda('${comanda}')" class="px-4 py-2 border border-gray-300 text-gray-700 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        <i class="fas fa-print mr-2"></i>Imprimir
                                    </button>
                                    <button onclick="confirmarPagamentoComanda('${comanda}')" class="flex-1 bg-green-500 text-white py-2 px-4 rounded text-sm font-medium hover:bg-green-600 transition-colors">
                                        Confirmar Pagamento
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
        }

        // Funções de controle individual por pessoa
        function adicionarPessoa(mesa) {
            const nome = prompt('Nome da pessoa:');
            if (nome) {
                alert(`${nome} adicionado(a) à mesa ${mesa}!`);
                // Reabrir modal para mostrar atualização
                closeMesaModal();
                setTimeout(() => openMesaModal(mesa, 'ocupada'), 100);
            }
        }
        
        function editarPessoa(mesa, pessoa) {
            alert(`Abrindo edição para pessoa ${pessoa} da mesa ${mesa}...`);
        }
        
        function marcarPago(mesa, pessoa) {
            if (confirm(`Confirmar pagamento da pessoa ${pessoa}?`)) {
                alert(`Pagamento confirmado para pessoa ${pessoa} da mesa ${mesa}!`);
                // Reabrir modal para mostrar atualização
                closeMesaModal();
                setTimeout(() => openMesaModal(mesa, 'ocupada'), 100);
            }
        }
        
        function adicionarItem(mesa, pessoa) {
            alert(`Abrindo cardápio para adicionar item à pessoa ${pessoa} da mesa ${mesa}...`);
        }
        
        function dividirConta(mesa) {
            alert(`Abrindo divisão automática da conta da mesa ${mesa}...`);
        }
        
        function verComanda(comanda) {
            alert(`Abrindo comanda completa ${comanda}...`);
        }

        // Funções específicas das comandas avulsas
        function adicionarItemComanda(comanda) {
            alert(`Abrindo cardápio para adicionar item à comanda ${comanda}...`);
        }
        
        function removerItemComanda(comanda, item) {
            if (confirm(`Remover este item da comanda ${comanda}?`)) {
                alert(`Item removido da comanda ${comanda}!`);
                // Reabrir modal para mostrar atualização
                closeMesaModal();
                setTimeout(() => openComandaAvulsaModal(comanda, 'ativa'), 100);
            }
        }
        
        function fecharComanda(comanda) {
            if (confirm(`Fechar a comanda ${comanda} para pagamento?`)) {
                alert(`Comanda ${comanda} fechada! Aguardando pagamento.`);
                closeMesaModal();
            }
        }
        
        function cancelarComanda(comanda) {
            if (confirm(`Tem certeza que deseja cancelar a comanda ${comanda}?`)) {
                alert(`Comanda ${comanda} cancelada!`);
                closeMesaModal();
            }
        }
        
        function imprimirComanda(comanda) {
            alert(`Imprimindo comanda ${comanda}...`);
        }
        
        function reabrirComanda(comanda) {
            if (confirm(`Reabrir a comanda ${comanda} para adicionar mais itens?`)) {
                alert(`Comanda ${comanda} reaberta!`);
                closeMesaModal();
                setTimeout(() => openComandaAvulsaModal(comanda, 'ativa'), 100);
            }
        }
        
        function confirmarPagamentoComanda(comanda) {
            if (confirm(`Confirmar o pagamento da comanda ${comanda}?`)) {
                alert(`Pagamento da comanda ${comanda} confirmado! Comanda finalizada.`);
                closeMesaModal();
            }
        }

        // Variáveis globais do PDV
        let cart = [];
        let destinoVenda = 'balcao';
        let destinoEspecifico = null;
        let formaPagamento = null;
        let selectedProduto = null;
        let modalQuantity = 1;

        // Base de dados dos produtos
        const produtos = {
            'hamburguer-artesanal': {
                nome: 'Hambúrguer Artesanal',
                categoria: 'lanches',
                variacoes: [
                    { nome: 'Simples', preco: 22.90, descricao: 'Pão brioche, carne 180g, alface, tomate' },
                    { nome: 'Duplo', preco: 28.90, descricao: 'Pão brioche, 2x carne 180g, alface, tomate' },
                    { nome: 'Bacon', preco: 26.90, descricao: 'Pão brioche, carne 180g, bacon, alface, tomate' }
                ]
            },
            'pizza-margherita': {
                nome: 'Pizza Margherita',
                categoria: 'lanches',
                variacoes: [
                    { nome: 'Individual', preco: 28.00, descricao: 'Pizza individual 25cm' },
                    { nome: 'Média', preco: 42.00, descricao: 'Pizza média 30cm' },
                    { nome: 'Grande', preco: 56.00, descricao: 'Pizza grande 35cm' }
                ]
            },
            'sanduiche-natural': {
                nome: 'Sanduíche Natural',
                categoria: 'lanches',
                variacoes: [
                    { nome: 'Único', preco: 12.90, descricao: 'Pão integral, peito de peru, queijo, alface' }
                ]
            },
            'cerveja': {
                nome: 'Cerveja',
                categoria: 'bebidas',
                variacoes: [
                    { nome: 'Skol Lata', preco: 6.00, descricao: 'Lata 350ml' },
                    { nome: 'Brahma Lata', preco: 6.50, descricao: 'Lata 350ml' },
                    { nome: 'Heineken Long Neck', preco: 9.00, descricao: 'Long neck 330ml' },
                    { nome: 'Corona Long Neck', preco: 10.50, descricao: 'Long neck 330ml' }
                ]
            },
            'refrigerante': {
                nome: 'Refrigerante',
                categoria: 'bebidas',
                variacoes: [
                    { nome: 'Coca-Cola Lata', preco: 4.50, descricao: 'Lata 350ml' },
                    { nome: 'Pepsi Lata', preco: 4.00, descricao: 'Lata 350ml' },
                    { nome: 'Guaraná Lata', preco: 4.00, descricao: 'Lata 350ml' },
                    { nome: 'Coca-Cola 2L', preco: 8.90, descricao: 'Garrafa 2 litros' }
                ]
            },
            'suco-natural': {
                nome: 'Suco Natural',
                categoria: 'bebidas',
                variacoes: [
                    { nome: 'Laranja 300ml', preco: 8.00, descricao: 'Suco natural de laranja' },
                    { nome: 'Limão 300ml', preco: 7.50, descricao: 'Suco natural de limão' },
                    { nome: 'Maracujá 300ml', preco: 9.00, descricao: 'Suco natural de maracujá' },
                    { nome: 'Acerola 300ml', preco: 8.50, descricao: 'Suco natural de acerola' }
                ]
            },
            'batata-frita': {
                nome: 'Batata Frita',
                categoria: 'porcoes',
                variacoes: [
                    { nome: 'Pequena', preco: 12.50, descricao: 'Porção 200g' },
                    { nome: 'Média', preco: 16.50, descricao: 'Porção 300g' },
                    { nome: 'Grande', preco: 22.90, descricao: 'Porção 500g' }
                ]
            },
            'porcao-frango': {
                nome: 'Porção de Frango',
                categoria: 'porcoes',
                variacoes: [
                    { nome: 'À Passarinho P', preco: 18.90, descricao: 'Porção 300g' },
                    { nome: 'À Passarinho G', preco: 28.90, descricao: 'Porção 500g' },
                    { nome: 'Empanado P', preco: 22.90, descricao: 'Porção 300g' },
                    { nome: 'Empanado G', preco: 32.90, descricao: 'Porção 500g' }
                ]
            },
            'pudim': {
                nome: 'Pudim de Leite',
                categoria: 'sobremesas',
                variacoes: [
                    { nome: 'Único', preco: 8.90, descricao: 'Com calda de caramelo' }
                ]
            },
            'sorvete': {
                nome: 'Sorvete',
                categoria: 'sobremesas',
                variacoes: [
                    { nome: 'Chocolate', preco: 6.50, descricao: '2 bolas' },
                    { nome: 'Morango', preco: 6.50, descricao: '2 bolas' },
                    { nome: 'Baunilha', preco: 6.50, descricao: '2 bolas' },
                    { nome: 'Napolitano', preco: 7.50, descricao: '3 bolas' }
                ]
            }
        };

        // Funções do PDV
        function openPDVModal() {
            document.getElementById('pdv-modal').classList.remove('hidden');
            resetPDV();
        }
        
        function closePDVModal() {
            document.getElementById('pdv-modal').classList.add('hidden');
            resetPDV();
        }
        
        function resetPDV() {
            cart = [];
            destinoVenda = 'balcao';
            destinoEspecifico = null;
            formaPagamento = null;
            updateCartDisplay();
            setDestinoVenda('balcao');
            resetFormaPagamento();
            document.getElementById('destino-especifico').classList.add('hidden');
        }
        
        function filterCategory(categoria) {
            // Atualizar botões de categoria
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-orange-100', 'text-orange-700');
                btn.classList.add('text-gray-600');
            });
            
            event.target.classList.add('active', 'bg-orange-100', 'text-orange-700');
            event.target.classList.remove('text-gray-600');
            
            // Filtrar produtos
            const produtoItems = document.querySelectorAll('.produto-item');
            produtoItems.forEach(item => {
                const itemCategoria = item.getAttribute('data-categoria');
                if (categoria === 'todos' || itemCategoria === categoria) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        function setDestinoVenda(destino) {
            destinoVenda = destino;
            
            // Atualizar botões de destino
            document.querySelectorAll('.destino-toggle').forEach(btn => {
                btn.classList.remove('bg-white', 'text-gray-900', 'shadow-sm');
                btn.classList.add('text-gray-500');
            });
            
            const activeBtn = document.getElementById(`destino-${destino}`);
            activeBtn.classList.add('bg-white', 'text-gray-900', 'shadow-sm');
            activeBtn.classList.remove('text-gray-500');
            
            // Mostrar/ocultar seleção específica
            const destinoEspecificoDiv = document.getElementById('destino-especifico');
            const selectDestino = document.getElementById('select-destino');
            
            if (destino === 'balcao') {
                destinoEspecificoDiv.classList.add('hidden');
                destinoEspecifico = null;
            } else {
                destinoEspecificoDiv.classList.remove('hidden');
                
                // Limpar e popular select baseado no destino
                selectDestino.innerHTML = '<option value="">Selecione...</option>';
                
                if (destino === 'mesa') {
                    for (let i = 1; i <= 8; i++) {
                        const option = document.createElement('option');
                        option.value = `mesa-${i}`;
                        option.textContent = `Mesa ${i.toString().padStart(2, '0')}`;
                        selectDestino.appendChild(option);
                    }
                } else if (destino === 'comanda') {
                    const comandas = ['C001', 'C002', 'C004'];
                    comandas.forEach(comanda => {
                        const option = document.createElement('option');
                        option.value = comanda;
                        option.textContent = `Comanda ${comanda}`;
                        selectDestino.appendChild(option);
                    });
                } else if (destino === 'delivery') {
                    const option = document.createElement('option');
                    option.value = 'novo-delivery';
                    option.textContent = 'Novo Pedido Delivery';
                    selectDestino.appendChild(option);
                }
            }
            
            updateFinalizarButton();
        }
        
        function addProdutoToCart(id, nome, preco) {
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantidade++;
            } else {
                cart.push({
                    id: id,
                    nome: nome,
                    preco: preco,
                    quantidade: 1
                });
            }
            
            updateCartDisplay();
            updateFinalizarButton();
        }
        
        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartDisplay();
            updateFinalizarButton();
        }
        
        function updateQuantity(id, delta) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantidade += delta;
                if (item.quantidade <= 0) {
                    removeFromCart(id);
                } else {
                    updateCartDisplay();
                    updateFinalizarButton();
                }
            }
        }
        
        function clearCart() {
            if (cart.length > 0 && confirm('Tem certeza que deseja limpar o carrinho?')) {
                cart = [];
                updateCartDisplay();
                updateFinalizarButton();
            }
        }
        
        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const cartSubtotal = document.getElementById('cart-subtotal');
            const cartTaxa = document.getElementById('cart-taxa');
            const cartTotal = document.getElementById('cart-total');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center py-8 text-gray-400">
                        <i class="fas fa-shopping-cart text-2xl mb-2"></i>
                        <p class="text-sm">Nenhum item selecionado</p>
                    </div>
                `;
                cartSubtotal.textContent = 'R$ 0,00';
                cartTaxa.textContent = 'R$ 0,00';
                cartTotal.textContent = 'R$ 0,00';
                return;
            }
            
            let subtotal = 0;
            let itemsHtml = '';
            
            cart.forEach(item => {
                const itemTotal = item.preco * item.quantidade;
                subtotal += itemTotal;
                
                itemsHtml += `
                    <div class="bg-white border border-gray-200 rounded-lg p-3">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex-1">
                                <h5 class="text-sm font-medium text-gray-900">${item.nome}</h5>
                                <p class="text-xs text-gray-500">R$ ${item.preco.toFixed(2)} cada</p>
                            </div>
                            <button onclick="removeFromCart('${item.id}')" class="text-red-500 hover:text-red-700 p-1">
                                <i class="fas fa-trash text-xs"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="updateQuantity('${item.id}', -1)" class="w-6 h-6 bg-gray-100 rounded text-xs hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="text-sm font-medium w-8 text-center">${item.quantidade}</span>
                                <button onclick="updateQuantity('${item.id}', 1)" class="w-6 h-6 bg-gray-100 rounded text-xs hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <span class="text-sm font-bold text-gray-900">R$ ${itemTotal.toFixed(2)}</span>
                        </div>
                    </div>
                `;
            });
            
            const taxa = subtotal * 0.1;
            const total = subtotal + taxa;
            
            cartItems.innerHTML = itemsHtml;
            cartSubtotal.textContent = `R$ ${subtotal.toFixed(2)}`;
            cartTaxa.textContent = `R$ ${taxa.toFixed(2)}`;
            cartTotal.textContent = `R$ ${total.toFixed(2)}`;
        }
        
        function updateFinalizarButton() {
            const btnFinalizar = document.getElementById('btn-finalizar-venda');
            const selectDestino = document.getElementById('select-destino');
            
            const hasItems = cart.length > 0;
            const hasDestino = destinoVenda === 'balcao' || (selectDestino.value !== '');
            const hasPagamento = formaPagamento !== null;
            
            if (hasItems && hasDestino && hasPagamento) {
                btnFinalizar.disabled = false;
                btnFinalizar.classList.remove('disabled:bg-gray-300', 'disabled:cursor-not-allowed');
            } else {
                btnFinalizar.disabled = true;
                btnFinalizar.classList.add('disabled:bg-gray-300', 'disabled:cursor-not-allowed');
            }
        }
        
        // Funções do modal de produto
        function openProdutoModal(produtoId) {
            const produto = produtos[produtoId];
            if (!produto) return;
            
            selectedProduto = { id: produtoId, ...produto };
            modalQuantity = 1;
            
            const modal = document.getElementById('produto-modal');
            const title = document.getElementById('produto-modal-title');
            const content = document.getElementById('produto-modal-content');
            const quantitySpan = document.getElementById('modal-quantity');
            
            title.textContent = produto.nome;
            quantitySpan.textContent = modalQuantity;
            
            let variacoesHtml = '';
            produto.variacoes.forEach((variacao, index) => {
                const isChecked = index === 0 ? 'checked' : '';
                variacoesHtml += `
                    <div class="border border-gray-200 rounded-lg p-3 mb-3">
                        <label class="flex items-start space-x-3 cursor-pointer">
                            <input type="radio" name="variacao" value="${index}" ${isChecked} class="mt-1">
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900">${variacao.nome}</h4>
                                        <p class="text-xs text-gray-500 mt-1">${variacao.descricao}</p>
                                    </div>
                                    <span class="text-sm font-bold text-gray-900">R$ ${variacao.preco.toFixed(2)}</span>
                                </div>
                            </div>
                        </label>
                    </div>
                `;
            });
            
            content.innerHTML = `
                <div class="space-y-3">
                    <h4 class="text-sm font-medium text-gray-900 mb-3">Selecione uma opção:</h4>
                    ${variacoesHtml}
                </div>
            `;
            
            modal.classList.remove('hidden');
        }
        
        function closeProdutoModal() {
            document.getElementById('produto-modal').classList.add('hidden');
            selectedProduto = null;
            modalQuantity = 1;
        }
        
        function updateModalQuantity(delta) {
            modalQuantity = Math.max(1, modalQuantity + delta);
            document.getElementById('modal-quantity').textContent = modalQuantity;
        }
        
        function addSelectedProdutoToCart() {
            if (!selectedProduto) return;
            
            const selectedVariacao = document.querySelector('input[name="variacao"]:checked');
            if (!selectedVariacao) return;
            
            const variacaoIndex = parseInt(selectedVariacao.value);
            const variacao = selectedProduto.variacoes[variacaoIndex];
            
            const itemId = `${selectedProduto.id}-${variacaoIndex}`;
            const itemNome = `${selectedProduto.nome} - ${variacao.nome}`;
            
            const existingItem = cart.find(item => item.id === itemId);
            
            if (existingItem) {
                existingItem.quantidade += modalQuantity;
            } else {
                cart.push({
                    id: itemId,
                    nome: itemNome,
                    preco: variacao.preco,
                    quantidade: modalQuantity
                });
            }
            
            updateCartDisplay();
            updateFinalizarButton();
            closeProdutoModal();
        }
        
        // Funções de forma de pagamento
        function setFormaPagamento(forma) {
            formaPagamento = forma;
            
            // Atualizar botões de pagamento
            document.querySelectorAll('.pagamento-toggle').forEach(btn => {
                btn.classList.remove('bg-green-100', 'text-green-700', 'border-green-300');
                btn.classList.add('border-gray-300', 'text-gray-700');
            });
            
            const activeBtn = document.getElementById(`pagamento-${forma}`);
            activeBtn.classList.add('bg-green-100', 'text-green-700', 'border-green-300');
            activeBtn.classList.remove('border-gray-300', 'text-gray-700');
            
            updateFinalizarButton();
        }
        
        function resetFormaPagamento() {
            formaPagamento = null;
            document.querySelectorAll('.pagamento-toggle').forEach(btn => {
                btn.classList.remove('bg-green-100', 'text-green-700', 'border-green-300');
                btn.classList.add('border-gray-300', 'text-gray-700');
            });
        }
        
        function finalizarVenda() {
            if (cart.length === 0 || !formaPagamento) return;
            
            const selectDestino = document.getElementById('select-destino');
            let destinoTexto = '';
            
            if (destinoVenda === 'balcao') {
                destinoTexto = 'Balcão';
            } else {
                const selectedOption = selectDestino.options[selectDestino.selectedIndex];
                destinoTexto = selectedOption.textContent;
            }
            
            const subtotal = cart.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
            const taxa = subtotal * 0.1;
            const total = subtotal + taxa;
            
            const formaTexto = {
                'dinheiro': 'Dinheiro',
                'cartao': 'Cartão',
                'pix': 'PIX',
                'fiado': 'Fiado'
            }[formaPagamento];
            
            let resumoItens = cart.map(item => `${item.quantidade}x ${item.nome}`).join('\n');
            
            if (confirm(`Confirmar venda?\n\nDestino: ${destinoTexto}\nPagamento: ${formaTexto}\nTotal: R$ ${total.toFixed(2)}\n\nItens:\n${resumoItens}`)) {
                alert(`✅ Venda finalizada com sucesso!\n\n📍 Destino: ${destinoTexto}\n💳 Pagamento: ${formaTexto}\n💰 Total: R$ ${total.toFixed(2)}`);
                closePDVModal();
            }
        }
        
        // Event listener para mudança de destino específico
        document.addEventListener('DOMContentLoaded', function() {
            showConfigSection('empresa');
            
            // Adicionar listener para o select de destino
            document.getElementById('select-destino').addEventListener('change', function() {
                destinoEspecifico = this.value;
                updateFinalizarButton();
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979d605330dfdf39',t:'MTc1Njk4Nzc0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
